# Nome do serviço no Eureka
spring.application.name=ce-api-gateway-zuul

spring.config.import=optional:configserver:

# Porta do gateway
server.port=8765

# Configuração do Spring Cloud Config (opcional, se usar Config Server)
spring.cloud.config.uri=http://localhost:8888

# Ativa todos os endpoints do actuator
management.endpoints.web.exposure.include=*

# Registro no Eureka
eureka.client.service-url.defaultZone=http://localhost:8761/eureka

# Timeout do Hystrix (fallback/resiliência)
hystrix.command.default.execution.isolation.thread.timeoutInMilliseconds=60000

# Timeout do Ribbon (load balancer interno)
ribbon.ConnectTimeout=10000
ribbon.ReadTimeout=20000

# Roteamento via Zuul

# Serviço de autenticação
zuul.routes.auth.service-id=ce-auth-ms
zuul.routes.auth.path=/ce-auth-ms/**

# Serviço de simulação de crédito
zuul.routes.loan.service-id=ce-loan-ms
zuul.routes.loan.path=/ce-loan-ms/**

# Desabilita headers sensíveis para evitar bloqueios de sessão/tokens
zuul.routes.auth.sensitive-headers=Cookie,Set-Cookie
zuul.routes.loan.sensitive-headers=Cookie,Set-Cookie
